(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{7276:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(7769)}])},7769:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var a=t(4848),s=t(6540),n=t(4335);let l=()=>{let[e,r]=(0,s.useState)(""),[t,l]=(0,s.useState)([]),[o,i]=(0,s.useState)(!1),[p,c]=(0,s.useState)(""),d=async()=>{try{i(!0),await n.A.post("https://trip-planner-b.vercel.app/api/trips",{name:e}),u(),r(""),c("")}catch(e){var t,a;c("Error creando el viaje: "+((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||e.message)),console.error("Error creando el viaje:",e)}finally{i(!1)}},u=async()=>{try{i(!0);let e=await n.A.get("https://trip-planner-b.vercel.app/api/trips");l(e.data.trips),c("")}catch(t){var e,r;c("Error obteniendo los viajes: "+((null===(r=t.response)||void 0===r?void 0:null===(e=r.data)||void 0===e?void 0:e.message)||t.message)),console.error("Error obteniendo los viajes:",t)}finally{i(!1)}};return(0,s.useEffect)(()=>{u()},[]),(0,a.jsxs)("div",{className:"box",children:[(0,a.jsx)("h2",{children:"Trip"}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>r(e.target.value),placeholder:"Enter trip name"}),(0,a.jsx)("button",{onClick:d,disabled:o,children:o?"Creating...":"Create New Trip"}),p&&(0,a.jsx)("p",{style:{color:"red"},children:p}),(0,a.jsx)("ul",{children:null==t?void 0:t.map(e=>(0,a.jsx)("li",{children:e.name},e._id))})]})},o=()=>{let[e,r]=(0,s.useState)(""),[t,l]=(0,s.useState)(""),[o,i]=(0,s.useState)([]),p=async()=>{try{await n.A.post("https://trip-planner-b.vercel.app/api/expenses",{trip:e,amount:parseFloat(t)}),c(),r(""),l("")}catch(e){console.error("Error creando el gasto:",e)}},c=async()=>{try{let r=await n.A.get("https://trip-planner-b.vercel.app/api/expenses",{params:{trip:e}});i(r.data.expenses)}catch(e){console.error("Error obteniendo los gastos:",e)}};return(0,s.useEffect)(()=>{e&&c()}),(0,a.jsxs)("div",{className:"box",children:[(0,a.jsx)("h2",{children:"Expenses"}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>r(e.target.value)}),(0,a.jsx)("input",{type:"number",value:t,onChange:e=>l(e.target.value),placeholder:"Monto"}),(0,a.jsx)("button",{onClick:p,children:"Create New Expense"}),(0,a.jsx)("ul",{children:o.map(e=>(0,a.jsxs)("li",{children:[e.amount," - ",e.trip]},e._id))})]})},i=e=>{let{title:r}=e;return(0,a.jsx)("h1",{className:r,children:"Welcome to your Trip Planner"})};function p(){return(0,a.jsxs)("div",{className:"box",children:[(0,a.jsx)(i,{}),(0,a.jsx)(l,{}),(0,a.jsx)(o,{})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[335,636,593,792],()=>r(7276)),_N_E=e.O()}]);